from numpy import array
from utils import timestamp
# earlier than this, the data are considered too old even for factor pre-processing and building
factor_build_start = float(timestamp('2013-01-01'))
# factor build and pre-processing shall not touch data later than this. After out of sample start, the data is used for fitting and simulation.
factor_build_end = float(timestamp('2015-10-01'))


step1coefs = {'-log(back_price)': array([ 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.]),
 '-log(lay_price)': array([ 0.72199576, 0.6815865 , 0.66536424, 0.62478825, 0.51294584,
        0.41821732, 0.2434754 , 0.16811289, 0.14973673, 0.10060708,
        0.10060708]),
 'weight': array([ 0.13738666, 0.12511908, 0.11074575, 0.10729104, 0.09839502,
        0.0833598 , 0.09824098, 0.09505521, 0.10042789, 0.11584003,
        0.11584003]),
 'z027f9f0f5': array([-0.01394911, -0.00490571, 0.00320195, 0.01804255, 0.06406599,
        0.103221  , 0.19331314, 0.24065048, 0.24912807, 0.27769331,
        0.27769331]),
 'z0f50ce7c0': array([-0.15196534, -0.17385258, -0.19383841, -0.21447312, -0.26876944,
       - 0.29536722, -0.29512566, -0.28590034, -0.28361865, -0.30812062,
       - 0.30812062]),
 'z106842cce': array([ 0.3705661 , 0.39195676, 0.39324638, 0.4141101 , 0.41575229,
        0.44783135, 0.44924789, 0.44977008, 0.43346308, 0.43379556,
        0.43379556]),
 'z1b0bd4349': array([ 0.16450569, 0.18708324, 0.16986934, 0.1528393 , 0.18015648,
        0.17946822, 0.14905876, 0.10085797, 0.07568014, 0.06817935,
        0.06817935]),
 'z215129aeb': array([ 0.03862536, 0.03965335, 0.04090749, 0.04104969, 0.04172856,
        0.0449332 , 0.04543798, 0.03576902, 0.03860496, 0.04069879,
        0.04069879]),
 'z245159235': array([ 0.03277884, 0.03578932, 0.03999916, 0.04789672, 0.05488638,
        0.06294606, 0.07540946, 0.08877581, 0.09136624, 0.09646209,
        0.09646209]),
 'z28e932d84': array([ 0.01146447, 0.02287289, 0.02520932, 0.03532298, 0.04003418,
        0.03595158, 0.03425807, 0.03585113, 0.03648085, 0.03660763,
        0.03660763]),
 'z2a6963635': array([ 0.0272383 , 0.03047807, 0.03245756, 0.03598772, 0.04342882,
        0.05406695, 0.07444551, 0.08362993, 0.08643575, 0.09051684,
        0.09051684]),
 'z34b78e584': array([ 0.03214187, 0.03565208, 0.04104532, 0.04910913, 0.05939035,
        0.06075086, 0.07950593, 0.08501467, 0.08602552, 0.08757987,
        0.08757987]),
 'z36b8bffe0': array([ 0.07669637, 0.07488402, 0.07392379, 0.08225571, 0.08525802,
        0.10131033, 0.12362774, 0.13800751, 0.14636817, 0.15042022,
        0.15042022]),
 'z37a191205': array([ 0.0123154 , 0.01381832, 0.01477261, 0.01973096, 0.02775719,
        0.0451459 , 0.04819669, 0.05583744, 0.05183278, 0.05642762,
        0.05642762]),
 'z3d11336f4': array([-0.06032807, -0.06710366, -0.0628663 , -0.07227628, -0.07824661,
       - 0.0890089 , -0.10563616, -0.11800378, -0.11572193, -0.11757659,
       - 0.11757659]),
 'z412893062': array([ 0.37356687, 0.37962416, 0.38950931, 0.41195162, 0.43068916,
        0.42423935, 0.4448706 , 0.44425319, 0.44036277, 0.42948254,
        0.42948254]),
 'z44cf2d196': array([ 0.00996522, 0.02263802, 0.0242752 , 0.02314306, 0.0342353 ,
        0.04751842, 0.04715754, 0.05741777, 0.05493961, 0.05970146,
        0.05970146]),
 'z48f6dddd1': array([ 0.04805857, 0.05585404, 0.05837832, 0.05706737, 0.05867989,
        0.05891774, 0.06017416, 0.08108044, 0.09594989, 0.11053065,
        0.11053065]),
 'z4a6755a99': array([ 0.011562  , 0.02298272, 0.02526491, 0.0353358 , 0.03999261,
        0.03594306, 0.03428402, 0.03581127, 0.03640455, 0.03654448,
        0.03654448]),
 'z4cac73de3': array([ 0.06381418, 0.05468367, 0.05593715, 0.05862208, 0.1011805 ,
        0.16887498, 0.21094509, 0.22333597, 0.24294342, 0.22749428,
        0.22749428]),
 'z4fdabfabc': array([-0.00051661, 0.00732482, 0.0144076 , 0.01593486, 0.03181075,
        0.01465241, 0.01402231, 0.01375092, 0.00639533, 0.01699211,
        0.01699211]),
 'z50810021e': array([ 0.21355439, 0.22267801, 0.23318079, 0.23073357, 0.27044837,
        0.26523814, 0.3159421 , 0.29167978, 0.28020879, 0.27961199,
        0.27961199]),
 'z5873666ab': array([ 0.06988921, 0.03347456, 0.00311369, -0.00094164, 0.0225678 ,
        0.00806703, -0.00150161, -0.04871857, -0.04143203, -0.04841489,
       - 0.04841489]),
 'z5981b9f89': array([ 0.1164399 , 0.11500935, 0.12116529, 0.12653579, 0.12753396,
        0.13802841, 0.1565819 , 0.15261217, 0.14833311, 0.15076436,
        0.15076436]),
 'z6809c316d': array([ 0.03292358, 0.03666996, 0.03575539, 0.04396273, 0.05799272,
        0.07535958, 0.086023  , 0.09027644, 0.085177  , 0.08274281,
        0.08274281]),
 'z6c84925d1': array([-0.1183583 , -0.12844938, -0.12305382, -0.09420239, -0.10051186,
       - 0.09245963, -0.14222918, -0.1326111 , -0.12267453, -0.12772392,
       - 0.12772392]),
 'z6f11029f7': array([-0.08533797, -0.07653497, -0.07682   , -0.06979552, -0.06604406,
       - 0.05563263, -0.0373612 , -0.02604486, -0.02401889, -0.02046858,
       - 0.02046858]),
 'z6f1eaa94d': array([-0.05572054, -0.05754588, -0.07193848, -0.09275865, -0.0737194 ,
       - 0.07047717, -0.05816894, -0.06786526, -0.04743091, -0.07442781,
       - 0.07442781]),
 'z7081bf371': array([-0.12608492, -0.1145235 , -0.11449846, -0.11549605, -0.09631321,
       - 0.08497192, -0.09156217, -0.08999536, -0.08908503, -0.07828126,
       - 0.07828126]),
 'z7603edce1': array([ 0.1352027 , 0.14388675, 0.15515232, 0.1659138 , 0.18677411,
        0.19312573, 0.20853787, 0.22141938, 0.23271809, 0.22501561,
        0.22501561]),
 'z779f698c0': array([ 0.04798615, 0.05474248, 0.06076677, 0.07293434, 0.07537055,
        0.07015092, 0.12058555, 0.15719502, 0.17120579, 0.16846242,
        0.16846242]),
 'z77c9cc0a5': array([ 0.12759555, 0.14245636, 0.1620172 , 0.17988375, 0.2192185 ,
        0.23216979, 0.27190212, 0.28428508, 0.29107356, 0.28975734,
        0.28975734]),
 'z81f2598ec': array([-0.0199415 , -0.02088362, -0.02047301, -0.02008533, -0.0232317 ,
       - 0.01407067, -0.01589524, -0.0153264 , -0.01400011, -0.01456026,
       - 0.01456026]),
 'z8ca2ea7f2': array([ 0.10360231, 0.09611524, 0.09261424, 0.0795608 , 0.06232803,
        0.07373149, 0.05521793, 0.03151771, 0.00505106, -0.00111017,
       - 0.00111017]),
 'z8d2862a46': array([-0.00395903, -0.00779914, -0.00212127, 0.00270151, 0.00715328,
       - 0.00339828, -0.01356855, -0.02179404, -0.02534102, -0.02699636,
       - 0.02699636]),
 'z953916863': array([ 0.1501301 , 0.13852352, 0.13178371, 0.12693483, 0.08255203,
        0.0526678 , -0.0013418 , -0.02466684, -0.00469126, -0.01996074,
       - 0.01996074]),
 'z999f82560': array([ 0.09532485, 0.10462326, 0.11427026, 0.11336215, 0.12648492,
        0.15916751, 0.20902557, 0.23737671, 0.2322621 , 0.23905165,
        0.23905165]),
 'za5c443236': array([-0.00509229, 0.00725843, 0.00989477, 0.01264372, 0.0063489 ,
        0.01727317, 0.04091491, 0.04310204, 0.04090056, 0.05413361,
        0.05413361]),
 'za5cf91a5d': array([ 0.17483445, 0.2010453 , 0.21563654, 0.24334158, 0.29711699,
        0.27839848, 0.31830195, 0.3428034 , 0.36180754, 0.38518231,
        0.38518231]),
 'zac38414de': array([ 0.06124079, 0.05267987, 0.05434804, 0.0631604 , 0.0692197 ,
        0.05878013, 0.08594706, 0.08274065, 0.08690567, 0.08910549,
        0.08910549]),
 'zae03d13a5': array([ 0.00003914, 0.00001429, 0.00000874, 0.00000158, -0.00000003,
       - 0.00000003, -0.00000006, -0.0000001 , -0.00000005, -0.00000005,
       - 0.00000005]),
 'zb392bb74a': array([-0.02267848, -0.01208217, -0.0134282 , -0.00653685, 0.02249174,
        0.0325176 , 0.06040198, 0.06753038, 0.07445255, 0.08852883,
        0.08852883]),
 'zb5dc14260': array([-0.11643749, -0.12098242, -0.11911462, -0.12619125, -0.1352177 ,
       - 0.13296341, -0.14470829, -0.15292793, -0.15848226, -0.15966345,
       - 0.15966345]),
 'zb85d3de89': array([ 0.01458481, 0.01152581, 0.01281183, 0.01304954, 0.012179  ,
        0.01312113, 0.02091097, 0.02701777, 0.02914462, 0.02989177,
        0.02989177]),
 'zb87666d6d': array([ 0.03347169, 0.03110049, 0.03190105, 0.03806909, 0.04478464,
        0.05099586, 0.05226123, 0.06239164, 0.06408215, 0.06523928,
        0.06523928]),
 'zbba3f4349': array([ 0.12870263, 0.13810453, 0.13969365, 0.16146412, 0.16891622,
        0.18309277, 0.19284418, 0.20765048, 0.20475618, 0.22003451,
        0.22003451]),
 'zbe307f294': array([ 0.12773023, 0.15057147, 0.15290071, 0.18488536, 0.20314   ,
        0.14500064, 0.1383973 , 0.14132924, 0.14117319, 0.12012244,
        0.12012244]),
 'zc31456152': array([-0.08819735, -0.09239848, -0.09879471, -0.10697097, -0.12426643,
       - 0.14547241, -0.14778604, -0.15383345, -0.15224143, -0.14497718,
       - 0.14497718]),
 'zc6614c5ee': array([ 0.05033454, 0.072442  , 0.10216904, 0.13593003, 0.19005795,
        0.21376652, 0.28206268, 0.29181838, 0.30441739, 0.31683101,
        0.31683101]),
 'zce609d953': array([-0.25703399, -0.2745419 , -0.27671603, -0.28008636, -0.28521636,
       - 0.26708457, -0.28834037, -0.30803589, -0.32659361, -0.3478509 ,
       - 0.3478509 ]),
 'zd393eb79d': array([-0.08397546, -0.08149041, -0.08630214, -0.08724679, -0.09756796,
       - 0.08991873, -0.09255944, -0.07757144, -0.08177463, -0.07477478,
       - 0.07477478]),
 'zd7cd94e4c': array([ 0.01680711, 0.01610362, 0.01925716, 0.0264503 , 0.03759213,
        0.04684314, 0.07810286, 0.08996625, 0.09550187, 0.10048256,
        0.10048256]),
 'zd81bcd220': array([ 0.08819206, 0.09094514, 0.0967672 , 0.09516381, 0.08809166,
        0.09129277, 0.08249393, 0.0720913 , 0.07097607, 0.05388819,
        0.05388819]),
 'ze4c91eac0': array([-0.13713613, -0.14547083, -0.14801704, -0.16049603, -0.13065589,
       - 0.12722462, -0.11461693, -0.11572688, -0.11044678, -0.10934532,
       - 0.10934532]),
 'zec0c22a48': array([ 0.05078763, 0.06051388, 0.06666094, 0.07158911, 0.08884718,
        0.0969607 , 0.10896625, 0.11879487, 0.12199855, 0.1263491 ,
        0.1263491 ]),
 'zec3f8f8b9': array([ 0.12780665, 0.13007211, 0.12187801, 0.12449442, 0.11605878,
        0.11820718, 0.1084387 , 0.12577247, 0.13352017, 0.13474814,
        0.13474814]),
 'zef5a850eb': array([ 0.01152137, 0.02309156, 0.02532286, 0.03529888, 0.04002281,
        0.03594609, 0.03412769, 0.03572292, 0.03627076, 0.0362564 ,
        0.0362564 ]),
 'zf47a136cc': array([ 0.01192369, 0.02303382, 0.0253757 , 0.03565571, 0.04005863,
        0.03582725, 0.03437392, 0.03581753, 0.03640993, 0.03666686,
        0.03666686]),
 'zf50212bfb': array([-0.00767344, -0.00406588, 0.00005978, 0.0027865 , 0.01879065,
        0.02231668, 0.03792108, 0.03605687, 0.03024334, 0.03442691,
        0.03442691])}



step2coefs = array([[ 0.        , 0.29644165, 0.88498283],
       [ 0.        , 0.29496263, 0.88783039],
       [ 0.        , 0.28189099, 0.90117121],
       [ 0.        , 0.29514545, 0.89021298],
       [ 0.        , 0.23628206, 0.94859613],
       [ 0.        , 0.2314527 , 0.94980454],
       [ 0.        , 0.11752801, 1.08266001],
       [ 0.        , 0.04376429, 1.18419285],
       [ 0.        , 0.02639257, 1.20894499],
       [ 0.        , 0.01163875, 1.23051396],
       [ 0.        , 0.01163875, 1.23051396]])
